<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Document Of Source Code: Interrupts and flags management functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Document Of Source Code
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Interrupts and flags management functions<div class="ingroups"><a class="el" href="group__STM32F4xx__StdPeriph__Driver.html">STM32F4xx_StdPeriph_Driver</a> &raquo; <a class="el" href="group__SPI.html">SPI</a> &raquo; <a class="el" href="group__SPI__Private__Functions.html">SPI_Private_Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Interrupts and flags management functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga17f4ef132e8ddbf94cb6b1688d181e41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SPI__Group5.html#ga17f4ef132e8ddbf94cb6b1688d181e41">SPI_I2S_ITConfig</a> (<a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *SPIx, uint8_t SPI_I2S_IT, <a class="el" href="group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a> NewState)</td></tr>
<tr class="memdesc:ga17f4ef132e8ddbf94cb6b1688d181e41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables the specified SPI/I2S interrupts.  <a href="#ga17f4ef132e8ddbf94cb6b1688d181e41">More...</a><br /></td></tr>
<tr class="separator:ga17f4ef132e8ddbf94cb6b1688d181e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bd785d129e09c5734a876c8f2767204"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Exported__types.html#ga89136caac2e14c55151f527ac02daaff">FlagStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SPI__Group5.html#ga1bd785d129e09c5734a876c8f2767204">SPI_I2S_GetFlagStatus</a> (<a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *SPIx, uint16_t SPI_I2S_FLAG)</td></tr>
<tr class="memdesc:ga1bd785d129e09c5734a876c8f2767204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the specified SPIx/I2Sx flag is set or not.  <a href="#ga1bd785d129e09c5734a876c8f2767204">More...</a><br /></td></tr>
<tr class="separator:ga1bd785d129e09c5734a876c8f2767204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3aabd9e2437e213056c0ed9bdfa1a724"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SPI__Group5.html#ga3aabd9e2437e213056c0ed9bdfa1a724">SPI_I2S_ClearFlag</a> (<a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *SPIx, uint16_t SPI_I2S_FLAG)</td></tr>
<tr class="memdesc:ga3aabd9e2437e213056c0ed9bdfa1a724"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the SPIx CRC Error (CRCERR) flag.  <a href="#ga3aabd9e2437e213056c0ed9bdfa1a724">More...</a><br /></td></tr>
<tr class="separator:ga3aabd9e2437e213056c0ed9bdfa1a724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72decbc1cd79f8fad92a2204beca6bc5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Exported__types.html#gaacbd7ed539db0aacd973a0f6eca34074">ITStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SPI__Group5.html#ga72decbc1cd79f8fad92a2204beca6bc5">SPI_I2S_GetITStatus</a> (<a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *SPIx, uint8_t SPI_I2S_IT)</td></tr>
<tr class="memdesc:ga72decbc1cd79f8fad92a2204beca6bc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the specified SPIx/I2Sx interrupt has occurred or not.  <a href="#ga72decbc1cd79f8fad92a2204beca6bc5">More...</a><br /></td></tr>
<tr class="separator:ga72decbc1cd79f8fad92a2204beca6bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35a524a49ff3d058137060f751e8749f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SPI__Group5.html#ga35a524a49ff3d058137060f751e8749f">SPI_I2S_ClearITPendingBit</a> (<a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *SPIx, uint8_t SPI_I2S_IT)</td></tr>
<tr class="memdesc:ga35a524a49ff3d058137060f751e8749f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the SPIx CRC Error (CRCERR) interrupt pending bit.  <a href="#ga35a524a49ff3d058137060f751e8749f">More...</a><br /></td></tr>
<tr class="separator:ga35a524a49ff3d058137060f751e8749f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Interrupts and flags management functions. </p>
<pre class="fragment"> ===============================================================================
                         Interrupts and flags management functions
 ===============================================================================  

  This section provides a set of functions allowing to configure the SPI Interrupts 
  sources and check or clear the flags or pending bits status.
  The user should identify which mode will be used in his application to manage 
  the communication: Polling mode, Interrupt mode or DMA mode. 
    
  Polling Mode
  =============
  In Polling Mode, the SPI/I2S communication can be managed by 9 flags:
     1. SPI_I2S_FLAG_TXE : to indicate the status of the transmit buffer register
     2. SPI_I2S_FLAG_RXNE : to indicate the status of the receive buffer register
     3. SPI_I2S_FLAG_BSY : to indicate the state of the communication layer of the SPI.
     4. SPI_FLAG_CRCERR : to indicate if a CRC Calculation error occur              
     5. SPI_FLAG_MODF : to indicate if a Mode Fault error occur
     6. SPI_I2S_FLAG_OVR : to indicate if an Overrun error occur
     7. I2S_FLAG_TIFRFE: to indicate a Frame Format error occurs.
     8. I2S_FLAG_UDR: to indicate an Underrun error occurs.
     9. I2S_FLAG_CHSIDE: to indicate Channel Side.

@note Do not use the BSY flag to handle each data transmission or reception.  It is
      better to use the TXE and RXNE flags instead.

  In this Mode it is advised to use the following functions:
     - FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);
     - void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);

  Interrupt Mode
  ===============
  In Interrupt Mode, the SPI communication can be managed by 3 interrupt sources
  and 7 pending bits: 
  Pending Bits:
  ------------- 
     1. SPI_I2S_IT_TXE : to indicate the status of the transmit buffer register
     2. SPI_I2S_IT_RXNE : to indicate the status of the receive buffer register
     3. SPI_IT_CRCERR : to indicate if a CRC Calculation error occur (available in SPI mode only)            
     4. SPI_IT_MODF : to indicate if a Mode Fault error occur (available in SPI mode only)
     5. SPI_I2S_IT_OVR : to indicate if an Overrun error occur
     6. I2S_IT_UDR : to indicate an Underrun Error occurs (available in I2S mode only).
     7. I2S_FLAG_TIFRFE : to indicate a Frame Format error occurs (available in TI mode only).

  Interrupt Source:
  -----------------
     1. SPI_I2S_IT_TXE: specifies the interrupt source for the Tx buffer empty 
                        interrupt.  
     2. SPI_I2S_IT_RXNE : specifies the interrupt source for the Rx buffer not 
                          empty interrupt.
     3. SPI_I2S_IT_ERR : specifies the interrupt source for the errors interrupt.

  In this Mode it is advised to use the following functions:
     - void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState);
     - ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT);
     - void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT);

  DMA Mode
  ========
  In DMA Mode, the SPI communication can be managed by 2 DMA Channel requests:
     1. SPI_I2S_DMAReq_Tx: specifies the Tx buffer DMA transfer request
     2. SPI_I2S_DMAReq_Rx: specifies the Rx buffer DMA transfer request

  In this Mode it is advised to use the following function:
    - void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewState);</pre> <h2 class="groupheader">Function Documentation</h2>
<a id="ga3aabd9e2437e213056c0ed9bdfa1a724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3aabd9e2437e213056c0ed9bdfa1a724">&#9670;&nbsp;</a></span>SPI_I2S_ClearFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_I2S_ClearFlag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *&#160;</td>
          <td class="paramname"><em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>SPI_I2S_FLAG</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the SPIx CRC Error (CRCERR) flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SPIx</td><td>To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. </td></tr>
    <tr><td class="paramname">SPI_I2S_FLAG</td><td>specifies the SPI flag to clear. This function clears only CRCERR flag. <ul>
<li>SPI_FLAG_CRCERR: CRC Error flag.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>OVR (OverRun error) flag is cleared by software sequence: a read operation to SPI_DR register (<a class="el" href="group__SPI__Group2.html#gab77de76547f3bff403236b263b070a30" title="Returns the most recent received data by the SPIx/I2Sx peripheral. ">SPI_I2S_ReceiveData()</a>) followed by a read operation to SPI_SR register (<a class="el" href="group__SPI__Group5.html#ga1bd785d129e09c5734a876c8f2767204" title="Checks whether the specified SPIx/I2Sx flag is set or not. ">SPI_I2S_GetFlagStatus()</a>). </dd>
<dd>
UDR (UnderRun error) flag is cleared by a read operation to SPI_SR register (<a class="el" href="group__SPI__Group5.html#ga1bd785d129e09c5734a876c8f2767204" title="Checks whether the specified SPIx/I2Sx flag is set or not. ">SPI_I2S_GetFlagStatus()</a>). </dd>
<dd>
MODF (Mode Fault) flag is cleared by software sequence: a read/write operation to SPI_SR register (<a class="el" href="group__SPI__Group5.html#ga1bd785d129e09c5734a876c8f2767204" title="Checks whether the specified SPIx/I2Sx flag is set or not. ">SPI_I2S_GetFlagStatus()</a>) followed by a write operation to SPI_CR1 register (<a class="el" href="group__SPI__Group1.html#gaa31357879a65ee1ed7223f3b9114dcf3" title="Enables or disables the specified SPI peripheral. ">SPI_Cmd()</a> to enable the SPI).</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32f4xx__spi_8c_source.html#l01176">1176</a> of file <a class="el" href="stm32f4xx__spi_8c_source.html">stm32f4xx_spi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;{</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="comment">/* Check the parameters */</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a>(SPIx));</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__I2S__flags__definition.html#gab16c7f47712871b8f1b97de43841856f">IS_SPI_I2S_CLEAR_FLAG</a>(SPI_I2S_FLAG));</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    </div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <span class="comment">/* Clear the selected SPI CRC Error (CRCERR) flag */</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  SPIx-&gt;<a class="code" href="structSPI__TypeDef.html#a44962ea5442d203bf4954035d1bfeb9d">SR</a> = (uint16_t)~SPI_I2S_FLAG;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div><div class="ttc" id="group__Library__configuration__section_html_ga631dea7b230e600555f979c62af1de21"><div class="ttname"><a href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a></div><div class="ttdeci">#define assert_param(expr)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00061">stm32f4xx.h:61</a></div></div>
<div class="ttc" id="group__SPI__I2S__flags__definition_html_gab16c7f47712871b8f1b97de43841856f"><div class="ttname"><a href="group__SPI__I2S__flags__definition.html#gab16c7f47712871b8f1b97de43841856f">IS_SPI_I2S_CLEAR_FLAG</a></div><div class="ttdeci">#define IS_SPI_I2S_CLEAR_FLAG(FLAG)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00432">stm32f4xx_spi.h:432</a></div></div>
<div class="ttc" id="structSPI__TypeDef_html_a44962ea5442d203bf4954035d1bfeb9d"><div class="ttname"><a href="structSPI__TypeDef.html#a44962ea5442d203bf4954035d1bfeb9d">SPI_TypeDef::SR</a></div><div class="ttdeci">__IO uint16_t SR</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00855">stm32f4xx.h:855</a></div></div>
<div class="ttc" id="group__SPI__Exported__Constants_html_ga6dc428a850ec6181eeef824bacca3544"><div class="ttname"><a href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a></div><div class="ttdeci">#define IS_SPI_ALL_PERIPH_EXT(PERIPH)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00117">stm32f4xx_spi.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga35a524a49ff3d058137060f751e8749f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35a524a49ff3d058137060f751e8749f">&#9670;&nbsp;</a></span>SPI_I2S_ClearITPendingBit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_I2S_ClearITPendingBit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *&#160;</td>
          <td class="paramname"><em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>SPI_I2S_IT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the SPIx CRC Error (CRCERR) interrupt pending bit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SPIx</td><td>To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. </td></tr>
    <tr><td class="paramname">SPI_I2S_IT</td><td>specifies the SPI interrupt pending bit to clear. This function clears only CRCERR interrupt pending bit. <ul>
<li>SPI_IT_CRCERR: CRC Error interrupt.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>OVR (OverRun Error) interrupt pending bit is cleared by software sequence: a read operation to SPI_DR register (<a class="el" href="group__SPI__Group2.html#gab77de76547f3bff403236b263b070a30" title="Returns the most recent received data by the SPIx/I2Sx peripheral. ">SPI_I2S_ReceiveData()</a>) followed by a read operation to SPI_SR register (<a class="el" href="group__SPI__Group5.html#ga72decbc1cd79f8fad92a2204beca6bc5" title="Checks whether the specified SPIx/I2Sx interrupt has occurred or not. ">SPI_I2S_GetITStatus()</a>). </dd>
<dd>
UDR (UnderRun Error) interrupt pending bit is cleared by a read operation to SPI_SR register (<a class="el" href="group__SPI__Group5.html#ga72decbc1cd79f8fad92a2204beca6bc5" title="Checks whether the specified SPIx/I2Sx interrupt has occurred or not. ">SPI_I2S_GetITStatus()</a>). </dd>
<dd>
MODF (Mode Fault) interrupt pending bit is cleared by software sequence: a read/write operation to SPI_SR register (<a class="el" href="group__SPI__Group5.html#ga72decbc1cd79f8fad92a2204beca6bc5" title="Checks whether the specified SPIx/I2Sx interrupt has occurred or not. ">SPI_I2S_GetITStatus()</a>) followed by a write operation to SPI_CR1 register (<a class="el" href="group__SPI__Group1.html#gaa31357879a65ee1ed7223f3b9114dcf3" title="Enables or disables the specified SPI peripheral. ">SPI_Cmd()</a> to enable the SPI). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32f4xx__spi_8c_source.html#l01256">1256</a> of file <a class="el" href="stm32f4xx__spi_8c_source.html">stm32f4xx_spi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;{</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  uint16_t itpos = 0;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="comment">/* Check the parameters */</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a>(SPIx));</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__I2S__interrupts__definition.html#gabeb917a0a708af0439f753a5f4af4c5e">IS_SPI_I2S_CLEAR_IT</a>(SPI_I2S_IT));</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="comment">/* Get the SPI_I2S IT index */</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  itpos = 0x01 &lt;&lt; (SPI_I2S_IT &amp; 0x0F);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="comment">/* Clear the selected SPI CRC Error (CRCERR) interrupt pending bit */</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  SPIx-&gt;<a class="code" href="structSPI__TypeDef.html#a44962ea5442d203bf4954035d1bfeb9d">SR</a> = (uint16_t)~itpos;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;}</div><div class="ttc" id="group__Library__configuration__section_html_ga631dea7b230e600555f979c62af1de21"><div class="ttname"><a href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a></div><div class="ttdeci">#define assert_param(expr)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00061">stm32f4xx.h:61</a></div></div>
<div class="ttc" id="structSPI__TypeDef_html_a44962ea5442d203bf4954035d1bfeb9d"><div class="ttname"><a href="structSPI__TypeDef.html#a44962ea5442d203bf4954035d1bfeb9d">SPI_TypeDef::SR</a></div><div class="ttdeci">__IO uint16_t SR</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00855">stm32f4xx.h:855</a></div></div>
<div class="ttc" id="group__SPI__Exported__Constants_html_ga6dc428a850ec6181eeef824bacca3544"><div class="ttname"><a href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a></div><div class="ttdeci">#define IS_SPI_ALL_PERIPH_EXT(PERIPH)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00117">stm32f4xx_spi.h:117</a></div></div>
<div class="ttc" id="group__SPI__I2S__interrupts__definition_html_gabeb917a0a708af0439f753a5f4af4c5e"><div class="ttname"><a href="group__SPI__I2S__interrupts__definition.html#gabeb917a0a708af0439f753a5f4af4c5e">IS_SPI_I2S_CLEAR_IT</a></div><div class="ttdeci">#define IS_SPI_I2S_CLEAR_IT(IT)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00408">stm32f4xx_spi.h:408</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga1bd785d129e09c5734a876c8f2767204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1bd785d129e09c5734a876c8f2767204">&#9670;&nbsp;</a></span>SPI_I2S_GetFlagStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Exported__types.html#ga89136caac2e14c55151f527ac02daaff">FlagStatus</a> SPI_I2S_GetFlagStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *&#160;</td>
          <td class="paramname"><em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>SPI_I2S_FLAG</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the specified SPIx/I2Sx flag is set or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SPIx</td><td>To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. </td></tr>
    <tr><td class="paramname">SPI_I2S_FLAG</td><td>specifies the SPI flag to check. This parameter can be one of the following values: <ul>
<li>SPI_I2S_FLAG_TXE: Transmit buffer empty flag. </li>
<li>SPI_I2S_FLAG_RXNE: Receive buffer not empty flag. </li>
<li>SPI_I2S_FLAG_BSY: Busy flag. </li>
<li>SPI_I2S_FLAG_OVR: Overrun flag. </li>
<li>SPI_FLAG_MODF: Mode Fault flag. </li>
<li>SPI_FLAG_CRCERR: CRC Error flag. </li>
<li>SPI_I2S_FLAG_TIFRFE: Format Error. </li>
<li>I2S_FLAG_UDR: Underrun Error flag. </li>
<li>I2S_FLAG_CHSIDE: Channel Side flag. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>new state of SPI_I2S_FLAG (SET or RESET). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32f4xx__spi_8c_source.html#l01135">1135</a> of file <a class="el" href="stm32f4xx__spi_8c_source.html">stm32f4xx_spi.c</a>.</p>

<p class="reference">References <a class="el" href="stm32f4xx_8h_source.html#l00287">RESET</a>.</p>
<div class="fragment"><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;{</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <a class="code" href="group__Exported__types.html#ga89136caac2e14c55151f527ac02daaff">FlagStatus</a> bitstatus = <a class="code" href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05">RESET</a>;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="comment">/* Check the parameters */</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a>(SPIx));</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__I2S__flags__definition.html#ga1241471a018bc63ed140089ce8334b4f">IS_SPI_I2S_GET_FLAG</a>(SPI_I2S_FLAG));</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  </div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="comment">/* Check the status of the specified SPI flag */</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keywordflow">if</span> ((SPIx-&gt;<a class="code" href="structSPI__TypeDef.html#a44962ea5442d203bf4954035d1bfeb9d">SR</a> &amp; SPI_I2S_FLAG) != (uint16_t)<a class="code" href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05">RESET</a>)</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="comment">/* SPI_I2S_FLAG is set */</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    bitstatus = <a class="code" href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792">SET</a>;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  }</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  {</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="comment">/* SPI_I2S_FLAG is reset */</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    bitstatus = <a class="code" href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05">RESET</a>;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  }</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="comment">/* Return the SPI_I2S_FLAG status */</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="keywordflow">return</span>  bitstatus;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;}</div><div class="ttc" id="group__Exported__types_html_ga89136caac2e14c55151f527ac02daaff"><div class="ttname"><a href="group__Exported__types.html#ga89136caac2e14c55151f527ac02daaff">FlagStatus</a></div><div class="ttdeci">FlagStatus</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00287">stm32f4xx.h:287</a></div></div>
<div class="ttc" id="group__Library__configuration__section_html_ga631dea7b230e600555f979c62af1de21"><div class="ttname"><a href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a></div><div class="ttdeci">#define assert_param(expr)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00061">stm32f4xx.h:61</a></div></div>
<div class="ttc" id="group__Exported__types_html_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05"><div class="ttname"><a href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05">RESET</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00287">stm32f4xx.h:287</a></div></div>
<div class="ttc" id="group__Exported__types_html_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792"><div class="ttname"><a href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792">SET</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00287">stm32f4xx.h:287</a></div></div>
<div class="ttc" id="group__SPI__I2S__flags__definition_html_ga1241471a018bc63ed140089ce8334b4f"><div class="ttname"><a href="group__SPI__I2S__flags__definition.html#ga1241471a018bc63ed140089ce8334b4f">IS_SPI_I2S_GET_FLAG</a></div><div class="ttdeci">#define IS_SPI_I2S_GET_FLAG(FLAG)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00433">stm32f4xx_spi.h:433</a></div></div>
<div class="ttc" id="structSPI__TypeDef_html_a44962ea5442d203bf4954035d1bfeb9d"><div class="ttname"><a href="structSPI__TypeDef.html#a44962ea5442d203bf4954035d1bfeb9d">SPI_TypeDef::SR</a></div><div class="ttdeci">__IO uint16_t SR</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00855">stm32f4xx.h:855</a></div></div>
<div class="ttc" id="group__SPI__Exported__Constants_html_ga6dc428a850ec6181eeef824bacca3544"><div class="ttname"><a href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a></div><div class="ttdeci">#define IS_SPI_ALL_PERIPH_EXT(PERIPH)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00117">stm32f4xx_spi.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga72decbc1cd79f8fad92a2204beca6bc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72decbc1cd79f8fad92a2204beca6bc5">&#9670;&nbsp;</a></span>SPI_I2S_GetITStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Exported__types.html#gaacbd7ed539db0aacd973a0f6eca34074">ITStatus</a> SPI_I2S_GetITStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *&#160;</td>
          <td class="paramname"><em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>SPI_I2S_IT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the specified SPIx/I2Sx interrupt has occurred or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SPIx</td><td>To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. </td></tr>
    <tr><td class="paramname">SPI_I2S_IT</td><td>specifies the SPI interrupt source to check. This parameter can be one of the following values: <ul>
<li>SPI_I2S_IT_TXE: Transmit buffer empty interrupt. </li>
<li>SPI_I2S_IT_RXNE: Receive buffer not empty interrupt. </li>
<li>SPI_I2S_IT_OVR: Overrun interrupt. </li>
<li>SPI_IT_MODF: Mode Fault interrupt. </li>
<li>SPI_IT_CRCERR: CRC Error interrupt. </li>
<li>I2S_IT_UDR: Underrun interrupt. </li>
<li>SPI_I2S_IT_TIFRFE: Format Error interrupt. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>new state of SPI_I2S_IT (SET or RESET). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32f4xx__spi_8c_source.html#l01201">1201</a> of file <a class="el" href="stm32f4xx__spi_8c_source.html">stm32f4xx_spi.c</a>.</p>

<p class="reference">References <a class="el" href="stm32f4xx_8h_source.html#l00287">RESET</a>.</p>
<div class="fragment"><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;{</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <a class="code" href="group__Exported__types.html#gaacbd7ed539db0aacd973a0f6eca34074">ITStatus</a> bitstatus = <a class="code" href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05">RESET</a>;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  uint16_t itpos = 0, itmask = 0, enablestatus = 0;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">/* Check the parameters */</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a>(SPIx));</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__I2S__interrupts__definition.html#gacb2949c066a74f1c4ef8c6a0d4e14a0c">IS_SPI_I2S_GET_IT</a>(SPI_I2S_IT));</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="comment">/* Get the SPI_I2S_IT index */</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  itpos = 0x01 &lt;&lt; (SPI_I2S_IT &amp; 0x0F);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="comment">/* Get the SPI_I2S_IT IT mask */</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  itmask = SPI_I2S_IT &gt;&gt; 4;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="comment">/* Set the IT mask */</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  itmask = 0x01 &lt;&lt; itmask;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="comment">/* Get the SPI_I2S_IT enable bit status */</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  enablestatus = (SPIx-&gt;<a class="code" href="structSPI__TypeDef.html#a2a3e81bd118d1bc52d24a0b0772e6a0c">CR2</a> &amp; itmask) ;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="comment">/* Check the status of the specified SPI interrupt */</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordflow">if</span> (((SPIx-&gt;<a class="code" href="structSPI__TypeDef.html#a44962ea5442d203bf4954035d1bfeb9d">SR</a> &amp; itpos) != (uint16_t)<a class="code" href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05">RESET</a>) &amp;&amp; enablestatus)</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  {</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="comment">/* SPI_I2S_IT is set */</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    bitstatus = <a class="code" href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792">SET</a>;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  {</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">/* SPI_I2S_IT is reset */</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    bitstatus = <a class="code" href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05">RESET</a>;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  }</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="comment">/* Return the SPI_I2S_IT status */</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">return</span> bitstatus;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div><div class="ttc" id="group__SPI__I2S__interrupts__definition_html_gacb2949c066a74f1c4ef8c6a0d4e14a0c"><div class="ttname"><a href="group__SPI__I2S__interrupts__definition.html#gacb2949c066a74f1c4ef8c6a0d4e14a0c">IS_SPI_I2S_GET_IT</a></div><div class="ttdeci">#define IS_SPI_I2S_GET_IT(IT)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00410">stm32f4xx_spi.h:410</a></div></div>
<div class="ttc" id="group__Library__configuration__section_html_ga631dea7b230e600555f979c62af1de21"><div class="ttname"><a href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a></div><div class="ttdeci">#define assert_param(expr)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00061">stm32f4xx.h:61</a></div></div>
<div class="ttc" id="group__Exported__types_html_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05"><div class="ttname"><a href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05">RESET</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00287">stm32f4xx.h:287</a></div></div>
<div class="ttc" id="group__Exported__types_html_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792"><div class="ttname"><a href="group__Exported__types.html#gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792">SET</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00287">stm32f4xx.h:287</a></div></div>
<div class="ttc" id="group__Exported__types_html_gaacbd7ed539db0aacd973a0f6eca34074"><div class="ttname"><a href="group__Exported__types.html#gaacbd7ed539db0aacd973a0f6eca34074">ITStatus</a></div><div class="ttdeci">enum FlagStatus ITStatus</div></div>
<div class="ttc" id="structSPI__TypeDef_html_a2a3e81bd118d1bc52d24a0b0772e6a0c"><div class="ttname"><a href="structSPI__TypeDef.html#a2a3e81bd118d1bc52d24a0b0772e6a0c">SPI_TypeDef::CR2</a></div><div class="ttdeci">__IO uint16_t CR2</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00853">stm32f4xx.h:853</a></div></div>
<div class="ttc" id="structSPI__TypeDef_html_a44962ea5442d203bf4954035d1bfeb9d"><div class="ttname"><a href="structSPI__TypeDef.html#a44962ea5442d203bf4954035d1bfeb9d">SPI_TypeDef::SR</a></div><div class="ttdeci">__IO uint16_t SR</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00855">stm32f4xx.h:855</a></div></div>
<div class="ttc" id="group__SPI__Exported__Constants_html_ga6dc428a850ec6181eeef824bacca3544"><div class="ttname"><a href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a></div><div class="ttdeci">#define IS_SPI_ALL_PERIPH_EXT(PERIPH)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00117">stm32f4xx_spi.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga17f4ef132e8ddbf94cb6b1688d181e41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17f4ef132e8ddbf94cb6b1688d181e41">&#9670;&nbsp;</a></span>SPI_I2S_ITConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_I2S_ITConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPI__TypeDef.html">SPI_TypeDef</a> *&#160;</td>
          <td class="paramname"><em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>SPI_I2S_IT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Exported__types.html#gac9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a>&#160;</td>
          <td class="paramname"><em>NewState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables the specified SPI/I2S interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SPIx</td><td>To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. </td></tr>
    <tr><td class="paramname">SPI_I2S_IT</td><td>specifies the SPI interrupt source to be enabled or disabled. This parameter can be one of the following values: <ul>
<li>SPI_I2S_IT_TXE: Tx buffer empty interrupt mask </li>
<li>SPI_I2S_IT_RXNE: Rx buffer not empty interrupt mask </li>
<li>SPI_I2S_IT_ERR: Error interrupt mask </li>
</ul>
</td></tr>
    <tr><td class="paramname">NewState</td><td>new state of the specified SPI interrupt. This parameter can be: ENABLE or DISABLE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32f4xx__spi_8c_source.html#l01091">1091</a> of file <a class="el" href="stm32f4xx__spi_8c_source.html">stm32f4xx_spi.c</a>.</p>

<p class="reference">References <a class="el" href="stm32f4xx_8h_source.html#l00289">DISABLE</a>.</p>
<div class="fragment"><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;{</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  uint16_t itpos = 0, itmask = 0 ;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  </div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="comment">/* Check the parameters */</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a>(SPIx));</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__Exported__types.html#gaffaf7c3f537d7a3370b1bbdda67a2bf6">IS_FUNCTIONAL_STATE</a>(NewState));</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <a class="code" href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a>(<a class="code" href="group__SPI__I2S__interrupts__definition.html#ga3ec2f6950d7ff801f992e65593c3365e">IS_SPI_I2S_CONFIG_IT</a>(SPI_I2S_IT));</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">/* Get the SPI IT index */</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  itpos = SPI_I2S_IT &gt;&gt; 4;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="comment">/* Set the IT mask */</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  itmask = (uint16_t)1 &lt;&lt; (uint16_t)itpos;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">if</span> (NewState != <a class="code" href="group__Exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1ad3a9df141be0ccf10389b640f492b26d">DISABLE</a>)</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="comment">/* Enable the selected SPI interrupt */</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    SPIx-&gt;<a class="code" href="structSPI__TypeDef.html#a2a3e81bd118d1bc52d24a0b0772e6a0c">CR2</a> |= itmask;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="comment">/* Disable the selected SPI interrupt */</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    SPIx-&gt;<a class="code" href="structSPI__TypeDef.html#a2a3e81bd118d1bc52d24a0b0772e6a0c">CR2</a> &amp;= (uint16_t)~itmask;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  }</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;}</div><div class="ttc" id="group__Library__configuration__section_html_ga631dea7b230e600555f979c62af1de21"><div class="ttname"><a href="group__Library__configuration__section.html#ga631dea7b230e600555f979c62af1de21">assert_param</a></div><div class="ttdeci">#define assert_param(expr)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00061">stm32f4xx.h:61</a></div></div>
<div class="ttc" id="group__Exported__types_html_gaffaf7c3f537d7a3370b1bbdda67a2bf6"><div class="ttname"><a href="group__Exported__types.html#gaffaf7c3f537d7a3370b1bbdda67a2bf6">IS_FUNCTIONAL_STATE</a></div><div class="ttdeci">#define IS_FUNCTIONAL_STATE(STATE)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00290">stm32f4xx.h:290</a></div></div>
<div class="ttc" id="structSPI__TypeDef_html_a2a3e81bd118d1bc52d24a0b0772e6a0c"><div class="ttname"><a href="structSPI__TypeDef.html#a2a3e81bd118d1bc52d24a0b0772e6a0c">SPI_TypeDef::CR2</a></div><div class="ttdeci">__IO uint16_t CR2</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00853">stm32f4xx.h:853</a></div></div>
<div class="ttc" id="group__SPI__I2S__interrupts__definition_html_ga3ec2f6950d7ff801f992e65593c3365e"><div class="ttname"><a href="group__SPI__I2S__interrupts__definition.html#ga3ec2f6950d7ff801f992e65593c3365e">IS_SPI_I2S_CONFIG_IT</a></div><div class="ttdeci">#define IS_SPI_I2S_CONFIG_IT(IT)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00400">stm32f4xx_spi.h:400</a></div></div>
<div class="ttc" id="group__Exported__types_html_ggac9a7e9a35d2513ec15c3b537aaa4fba1ad3a9df141be0ccf10389b640f492b26d"><div class="ttname"><a href="group__Exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1ad3a9df141be0ccf10389b640f492b26d">DISABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx_8h_source.html#l00289">stm32f4xx.h:289</a></div></div>
<div class="ttc" id="group__SPI__Exported__Constants_html_ga6dc428a850ec6181eeef824bacca3544"><div class="ttname"><a href="group__SPI__Exported__Constants.html#ga6dc428a850ec6181eeef824bacca3544">IS_SPI_ALL_PERIPH_EXT</a></div><div class="ttdeci">#define IS_SPI_ALL_PERIPH_EXT(PERIPH)</div><div class="ttdef"><b>Definition:</b> <a href="stm32f4xx__spi_8h_source.html#l00117">stm32f4xx_spi.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
