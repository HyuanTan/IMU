\section{Clocks management functions}
\label{group__TIM__Group6}\index{Clocks management functions@{Clocks management functions}}


Clocks management functions.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ T\+I\+M\+\_\+\+Internal\+Clock\+Config} (\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$T\+I\+Mx)
\begin{DoxyCompactList}\small\item\em Configures the T\+I\+Mx internal Clock. \end{DoxyCompactList}\item 
void \textbf{ T\+I\+M\+\_\+\+I\+T\+Rx\+External\+Clock\+Config} (\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$T\+I\+Mx, uint16\+\_\+t T\+I\+M\+\_\+\+Input\+Trigger\+Source)
\begin{DoxyCompactList}\small\item\em Configures the T\+I\+Mx Internal Trigger as External Clock. \end{DoxyCompactList}\item 
void \textbf{ T\+I\+M\+\_\+\+T\+Ix\+External\+Clock\+Config} (\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$T\+I\+Mx, uint16\+\_\+t T\+I\+M\+\_\+\+T\+Ix\+External\+C\+L\+K\+Source, uint16\+\_\+t T\+I\+M\+\_\+\+I\+C\+Polarity, uint16\+\_\+t I\+C\+Filter)
\begin{DoxyCompactList}\small\item\em Configures the T\+I\+Mx Trigger as External Clock. \end{DoxyCompactList}\item 
void \textbf{ T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode1\+Config} (\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$T\+I\+Mx, uint16\+\_\+t T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Prescaler, uint16\+\_\+t T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity, uint16\+\_\+t Ext\+T\+R\+G\+Filter)
\begin{DoxyCompactList}\small\item\em Configures the External clock Mode1. \end{DoxyCompactList}\item 
void \textbf{ T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode2\+Config} (\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$T\+I\+Mx, uint16\+\_\+t T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Prescaler, uint16\+\_\+t T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity, uint16\+\_\+t Ext\+T\+R\+G\+Filter)
\begin{DoxyCompactList}\small\item\em Configures the External clock Mode2. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Clocks management functions. 

\begin{DoxyVerb} ===============================================================================
                         Clocks management functions
 ===============================================================================  \end{DoxyVerb}
 

\subsection{Function Documentation}
\mbox{\label{group__TIM__Group6_ga47c05638b93aabcd641dbc8859e1b2df}} 
\index{Clocks management functions@{Clocks management functions}!T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode1\+Config@{T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode1\+Config}}
\index{T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode1\+Config@{T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode1\+Config}!Clocks management functions@{Clocks management functions}}
\subsubsection{T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode1\+Config()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode1\+Config (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$}]{T\+I\+Mx,  }\item[{uint16\+\_\+t}]{T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Prescaler,  }\item[{uint16\+\_\+t}]{T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity,  }\item[{uint16\+\_\+t}]{Ext\+T\+R\+G\+Filter }\end{DoxyParamCaption})}



Configures the External clock Mode1. 


\begin{DoxyParams}{Parameters}
{\em T\+I\+Mx} & where x can be 1, 2, 3, 4, 5 or 8 to select the T\+IM peripheral. \\
\hline
{\em T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Prescaler} & The external Trigger Prescaler. This parameter can be one of the following values\+: \begin{DoxyItemize}
\item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+P\+S\+C\+\_\+\+O\+FF\+: E\+T\+RP Prescaler O\+FF. \item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+P\+S\+C\+\_\+\+D\+I\+V2\+: E\+T\+RP frequency divided by 2. \item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+P\+S\+C\+\_\+\+D\+I\+V4\+: E\+T\+RP frequency divided by 4. \item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+P\+S\+C\+\_\+\+D\+I\+V8\+: E\+T\+RP frequency divided by 8. \end{DoxyItemize}
\\
\hline
{\em T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity} & The external Trigger Polarity. This parameter can be one of the following values\+: \begin{DoxyItemize}
\item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity\+\_\+\+Inverted\+: active low or falling edge active. \item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity\+\_\+\+Non\+Inverted\+: active high or rising edge active. \end{DoxyItemize}
\\
\hline
{\em Ext\+T\+R\+G\+Filter} & External Trigger Filter. This parameter must be a value between 0x00 and 0x0F \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2764} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.



References \textbf{ T\+I\+M\+\_\+\+E\+T\+R\+Config()}.


\begin{DoxyCode}
02766 \{
02767   uint16\_t tmpsmcr = 0;
02768 
02769   \textcolor{comment}{/* Check the parameters */}
02770   assert_param(IS_TIM_LIST3_PERIPH(TIMx));
02771   assert_param(IS_TIM_EXT_PRESCALER(TIM\_ExtTRGPrescaler));
02772   assert_param(IS_TIM_EXT_POLARITY(TIM\_ExtTRGPolarity));
02773   assert_param(IS_TIM_EXT_FILTER(ExtTRGFilter));
02774   \textcolor{comment}{/* Configure the ETR Clock source */}
02775   TIM_ETRConfig(TIMx, TIM\_ExtTRGPrescaler, TIM\_ExtTRGPolarity, ExtTRGFilter);
02776   
02777   \textcolor{comment}{/* Get the TIMx SMCR register value */}
02778   tmpsmcr = TIMx->SMCR;
02779 
02780   \textcolor{comment}{/* Reset the SMS Bits */}
02781   tmpsmcr &= (uint16\_t)~TIM_SMCR_SMS;
02782 
02783   \textcolor{comment}{/* Select the External clock mode1 */}
02784   tmpsmcr |= TIM_SlaveMode_External1;
02785 
02786   \textcolor{comment}{/* Select the Trigger selection : ETRF */}
02787   tmpsmcr &= (uint16\_t)~TIM_SMCR_TS;
02788   tmpsmcr |= TIM_TS_ETRF;
02789 
02790   \textcolor{comment}{/* Write to TIMx SMCR */}
02791   TIMx->SMCR = tmpsmcr;
02792 \}
\end{DoxyCode}
\mbox{\label{group__TIM__Group6_ga0a9cbcbab32326cbbdaf4c111f59ec20}} 
\index{Clocks management functions@{Clocks management functions}!T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode2\+Config@{T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode2\+Config}}
\index{T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode2\+Config@{T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode2\+Config}!Clocks management functions@{Clocks management functions}}
\subsubsection{T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode2\+Config()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+E\+T\+R\+Clock\+Mode2\+Config (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$}]{T\+I\+Mx,  }\item[{uint16\+\_\+t}]{T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Prescaler,  }\item[{uint16\+\_\+t}]{T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity,  }\item[{uint16\+\_\+t}]{Ext\+T\+R\+G\+Filter }\end{DoxyParamCaption})}



Configures the External clock Mode2. 


\begin{DoxyParams}{Parameters}
{\em T\+I\+Mx} & where x can be 1, 2, 3, 4, 5 or 8 to select the T\+IM peripheral. \\
\hline
{\em T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Prescaler} & The external Trigger Prescaler. This parameter can be one of the following values\+: \begin{DoxyItemize}
\item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+P\+S\+C\+\_\+\+O\+FF\+: E\+T\+RP Prescaler O\+FF. \item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+P\+S\+C\+\_\+\+D\+I\+V2\+: E\+T\+RP frequency divided by 2. \item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+P\+S\+C\+\_\+\+D\+I\+V4\+: E\+T\+RP frequency divided by 4. \item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+P\+S\+C\+\_\+\+D\+I\+V8\+: E\+T\+RP frequency divided by 8. \end{DoxyItemize}
\\
\hline
{\em T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity} & The external Trigger Polarity. This parameter can be one of the following values\+: \begin{DoxyItemize}
\item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity\+\_\+\+Inverted\+: active low or falling edge active. \item T\+I\+M\+\_\+\+Ext\+T\+R\+G\+Polarity\+\_\+\+Non\+Inverted\+: active high or rising edge active. \end{DoxyItemize}
\\
\hline
{\em Ext\+T\+R\+G\+Filter} & External Trigger Filter. This parameter must be a value between 0x00 and 0x0F \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2811} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.



References \textbf{ T\+I\+M\+\_\+\+E\+T\+R\+Config()}.


\begin{DoxyCode}
02813 \{
02814   \textcolor{comment}{/* Check the parameters */}
02815   assert_param(IS_TIM_LIST3_PERIPH(TIMx));
02816   assert_param(IS_TIM_EXT_PRESCALER(TIM\_ExtTRGPrescaler));
02817   assert_param(IS_TIM_EXT_POLARITY(TIM\_ExtTRGPolarity));
02818   assert_param(IS_TIM_EXT_FILTER(ExtTRGFilter));
02819 
02820   \textcolor{comment}{/* Configure the ETR Clock source */}
02821   TIM_ETRConfig(TIMx, TIM\_ExtTRGPrescaler, TIM\_ExtTRGPolarity, ExtTRGFilter);
02822 
02823   \textcolor{comment}{/* Enable the External clock mode2 */}
02824   TIMx->SMCR |= TIM_SMCR_ECE;
02825 \}
\end{DoxyCode}
\mbox{\label{group__TIM__Group6_ga2394f0221709c0659874f9a4184cf86e}} 
\index{Clocks management functions@{Clocks management functions}!T\+I\+M\+\_\+\+Internal\+Clock\+Config@{T\+I\+M\+\_\+\+Internal\+Clock\+Config}}
\index{T\+I\+M\+\_\+\+Internal\+Clock\+Config@{T\+I\+M\+\_\+\+Internal\+Clock\+Config}!Clocks management functions@{Clocks management functions}}
\subsubsection{T\+I\+M\+\_\+\+Internal\+Clock\+Config()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+Internal\+Clock\+Config (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$}]{T\+I\+Mx }\end{DoxyParamCaption})}



Configures the T\+I\+Mx internal Clock. 


\begin{DoxyParams}{Parameters}
{\em T\+I\+Mx} & where x can be 1, 2, 3, 4, 5, 8, 9 or 12 to select the T\+IM peripheral. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2673} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.


\begin{DoxyCode}
02674 \{
02675   \textcolor{comment}{/* Check the parameters */}
02676   assert_param(IS_TIM_LIST2_PERIPH(TIMx));
02677 
02678   \textcolor{comment}{/* Disable slave mode to clock the prescaler directly with the internal clock */}
02679   TIMx->SMCR &=  (uint16\_t)~TIM_SMCR_SMS;
02680 \}
\end{DoxyCode}
\mbox{\label{group__TIM__Group6_gabef227d21d9e121e6a4ec5ab6223f5a9}} 
\index{Clocks management functions@{Clocks management functions}!T\+I\+M\+\_\+\+I\+T\+Rx\+External\+Clock\+Config@{T\+I\+M\+\_\+\+I\+T\+Rx\+External\+Clock\+Config}}
\index{T\+I\+M\+\_\+\+I\+T\+Rx\+External\+Clock\+Config@{T\+I\+M\+\_\+\+I\+T\+Rx\+External\+Clock\+Config}!Clocks management functions@{Clocks management functions}}
\subsubsection{T\+I\+M\+\_\+\+I\+T\+Rx\+External\+Clock\+Config()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+I\+T\+Rx\+External\+Clock\+Config (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$}]{T\+I\+Mx,  }\item[{uint16\+\_\+t}]{T\+I\+M\+\_\+\+Input\+Trigger\+Source }\end{DoxyParamCaption})}



Configures the T\+I\+Mx Internal Trigger as External Clock. 


\begin{DoxyParams}{Parameters}
{\em T\+I\+Mx} & where x can be 1, 2, 3, 4, 5, 8, 9 or 12 to select the T\+IM peripheral. \\
\hline
{\em T\+I\+M\+\_\+\+Input\+Trigger\+Source} & Trigger source. This parameter can be one of the following values\+: \begin{DoxyItemize}
\item T\+I\+M\+\_\+\+T\+S\+\_\+\+I\+T\+R0\+: Internal Trigger 0 \item T\+I\+M\+\_\+\+T\+S\+\_\+\+I\+T\+R1\+: Internal Trigger 1 \item T\+I\+M\+\_\+\+T\+S\+\_\+\+I\+T\+R2\+: Internal Trigger 2 \item T\+I\+M\+\_\+\+T\+S\+\_\+\+I\+T\+R3\+: Internal Trigger 3 \end{DoxyItemize}
\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2694} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.



References \textbf{ T\+I\+M\+\_\+\+Select\+Input\+Trigger()}.


\begin{DoxyCode}
02695 \{
02696   \textcolor{comment}{/* Check the parameters */}
02697   assert_param(IS_TIM_LIST2_PERIPH(TIMx));
02698   assert_param(IS_TIM_INTERNAL_TRIGGER_SELECTION(TIM\_InputTriggerSource));
02699 
02700   \textcolor{comment}{/* Select the Internal Trigger */}
02701   TIM_SelectInputTrigger(TIMx, TIM\_InputTriggerSource);
02702 
02703   \textcolor{comment}{/* Select the External clock mode1 */}
02704   TIMx->SMCR |= TIM_SlaveMode_External1;
02705 \}
\end{DoxyCode}
\mbox{\label{group__TIM__Group6_gaf460e7d9c9969044e364130e209937fc}} 
\index{Clocks management functions@{Clocks management functions}!T\+I\+M\+\_\+\+T\+Ix\+External\+Clock\+Config@{T\+I\+M\+\_\+\+T\+Ix\+External\+Clock\+Config}}
\index{T\+I\+M\+\_\+\+T\+Ix\+External\+Clock\+Config@{T\+I\+M\+\_\+\+T\+Ix\+External\+Clock\+Config}!Clocks management functions@{Clocks management functions}}
\subsubsection{T\+I\+M\+\_\+\+T\+Ix\+External\+Clock\+Config()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+T\+Ix\+External\+Clock\+Config (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$}]{T\+I\+Mx,  }\item[{uint16\+\_\+t}]{T\+I\+M\+\_\+\+T\+Ix\+External\+C\+L\+K\+Source,  }\item[{uint16\+\_\+t}]{T\+I\+M\+\_\+\+I\+C\+Polarity,  }\item[{uint16\+\_\+t}]{I\+C\+Filter }\end{DoxyParamCaption})}



Configures the T\+I\+Mx Trigger as External Clock. 


\begin{DoxyParams}{Parameters}
{\em T\+I\+Mx} & where x can be 1, 2, 3, 4, 5, 8, 9, 10, 11, 12, 13 or 14 to select the T\+IM peripheral. \\
\hline
{\em T\+I\+M\+\_\+\+T\+Ix\+External\+C\+L\+K\+Source} & Trigger source. This parameter can be one of the following values\+: \begin{DoxyItemize}
\item T\+I\+M\+\_\+\+T\+Ix\+External\+C\+L\+K1\+Source\+\_\+\+T\+I1\+ED\+: T\+I1 Edge Detector \item T\+I\+M\+\_\+\+T\+Ix\+External\+C\+L\+K1\+Source\+\_\+\+T\+I1\+: Filtered Timer Input 1 \item T\+I\+M\+\_\+\+T\+Ix\+External\+C\+L\+K1\+Source\+\_\+\+T\+I2\+: Filtered Timer Input 2 \end{DoxyItemize}
\\
\hline
{\em T\+I\+M\+\_\+\+I\+C\+Polarity} & specifies the T\+Ix Polarity. This parameter can be one of the following values\+: \begin{DoxyItemize}
\item T\+I\+M\+\_\+\+I\+C\+Polarity\+\_\+\+Rising \item T\+I\+M\+\_\+\+I\+C\+Polarity\+\_\+\+Falling \end{DoxyItemize}
\\
\hline
{\em I\+C\+Filter} & specifies the filter value. This parameter must be a value between 0x0 and 0xF. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2724} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.



References \textbf{ T\+I1\+\_\+\+Config()}, \textbf{ T\+I2\+\_\+\+Config()}, and \textbf{ T\+I\+M\+\_\+\+Select\+Input\+Trigger()}.


\begin{DoxyCode}
02726 \{
02727   \textcolor{comment}{/* Check the parameters */}
02728   assert_param(IS_TIM_LIST1_PERIPH(TIMx));
02729   assert_param(IS_TIM_IC_POLARITY(TIM\_ICPolarity));
02730   assert_param(IS_TIM_IC_FILTER(ICFilter));
02731 
02732   \textcolor{comment}{/* Configure the Timer Input Clock Source */}
02733   \textcolor{keywordflow}{if} (TIM\_TIxExternalCLKSource == TIM_TIxExternalCLK1Source_TI2)
02734   \{
02735     TI2_Config(TIMx, TIM\_ICPolarity, TIM_ICSelection_DirectTI, ICFilter);
02736   \}
02737   \textcolor{keywordflow}{else}
02738   \{
02739     TI1_Config(TIMx, TIM\_ICPolarity, TIM_ICSelection_DirectTI, ICFilter);
02740   \}
02741   \textcolor{comment}{/* Select the Trigger source */}
02742   TIM_SelectInputTrigger(TIMx, TIM\_TIxExternalCLKSource);
02743   \textcolor{comment}{/* Select the External clock mode1 */}
02744   TIMx->SMCR |= TIM_SlaveMode_External1;
02745 \}
\end{DoxyCode}
