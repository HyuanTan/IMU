\section{Advanced-\/control timers (T\+I\+M1 and T\+I\+M8) specific features}
\label{group__TIM__Group4}\index{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}}


Advanced-\/control timers (T\+I\+M1 and T\+I\+M8) specific features.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Config} (\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$T\+I\+Mx, \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def} $\ast$T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Struct)
\begin{DoxyCompactList}\small\item\em Configures the Break feature, dead time, Lock level, O\+S\+S\+I/\+O\+S\+SR State and the A\+O\+E(automatic output enable). \end{DoxyCompactList}\item 
void \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Struct\+Init} (\textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def} $\ast$T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Struct)
\begin{DoxyCompactList}\small\item\em Fills each T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Struct member with its default value. \end{DoxyCompactList}\item 
void \textbf{ T\+I\+M\+\_\+\+Ctrl\+P\+W\+M\+Outputs} (\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$T\+I\+Mx, \textbf{ Functional\+State} New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the T\+IM peripheral Main Outputs. \end{DoxyCompactList}\item 
void \textbf{ T\+I\+M\+\_\+\+Select\+C\+OM} (\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$T\+I\+Mx, \textbf{ Functional\+State} New\+State)
\begin{DoxyCompactList}\small\item\em Selects the T\+IM peripheral Commutation event. \end{DoxyCompactList}\item 
void \textbf{ T\+I\+M\+\_\+\+C\+C\+Preload\+Control} (\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$T\+I\+Mx, \textbf{ Functional\+State} New\+State)
\begin{DoxyCompactList}\small\item\em Sets or Resets the T\+IM peripheral Capture Compare Preload Control bit. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Advanced-\/control timers (T\+I\+M1 and T\+I\+M8) specific features. 

\begin{DoxyVerb} ===============================================================================
          Advanced-control timers (TIM1 and TIM8) specific features
 ===============================================================================  
  
       ===================================================================      
              TIM Driver: how to use the Break feature
       =================================================================== 
       After configuring the Timer channel(s) in the appropriate Output Compare mode: 
                         
       1. Fill the TIM_BDTRInitStruct with the desired parameters for the Timer
          Break Polarity, dead time, Lock level, the OSSI/OSSR State and the 
          AOE(automatic output enable).
               
       2. Call TIM_BDTRConfig(TIMx, &TIM_BDTRInitStruct) to configure the Timer
          
       3. Enable the Main Output using TIM_CtrlPWMOutputs(TIM1, ENABLE) 
          
       4. Once the break even occurs, the Timer's output signals are put in reset
          state or in a known state (according to the configuration made in
          TIM_BDTRConfig() function).\end{DoxyVerb}
 

\subsection{Function Documentation}
\mbox{\label{group__TIM__Group4_ga3df4ba3f0727f63ce621e2b2e6035d4f}} 
\index{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}!T\+I\+M\+\_\+\+B\+D\+T\+R\+Config@{T\+I\+M\+\_\+\+B\+D\+T\+R\+Config}}
\index{T\+I\+M\+\_\+\+B\+D\+T\+R\+Config@{T\+I\+M\+\_\+\+B\+D\+T\+R\+Config}!Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}}
\subsubsection{T\+I\+M\+\_\+\+B\+D\+T\+R\+Config()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+B\+D\+T\+R\+Config (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$}]{T\+I\+Mx,  }\item[{\textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def} $\ast$}]{T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Struct }\end{DoxyParamCaption})}



Configures the Break feature, dead time, Lock level, O\+S\+S\+I/\+O\+S\+SR State and the A\+O\+E(automatic output enable). 


\begin{DoxyParams}{Parameters}
{\em T\+I\+Mx} & where x can be 1 or 8 to select the T\+IM \\
\hline
{\em T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Struct} & pointer to a \doxyref{T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def}{p.}{structTIM__BDTRInitTypeDef} structure that contains the B\+D\+TR Register configuration information for the T\+IM peripheral. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2211} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.


\begin{DoxyCode}
02212 \{
02213   \textcolor{comment}{/* Check the parameters */}
02214   assert_param(IS_TIM_LIST4_PERIPH(TIMx));
02215   assert_param(IS_TIM_OSSR_STATE(TIM\_BDTRInitStruct->TIM_OSSRState));
02216   assert_param(IS_TIM_OSSI_STATE(TIM\_BDTRInitStruct->TIM_OSSIState));
02217   assert_param(IS_TIM_LOCK_LEVEL(TIM\_BDTRInitStruct->TIM_LOCKLevel));
02218   assert_param(IS_TIM_BREAK_STATE(TIM\_BDTRInitStruct->TIM_Break));
02219   assert_param(IS_TIM_BREAK_POLARITY(TIM\_BDTRInitStruct->TIM_BreakPolarity));
02220   assert_param(IS_TIM_AUTOMATIC_OUTPUT_STATE(TIM\_BDTRInitStruct->
      TIM_AutomaticOutput));
02221 
02222   \textcolor{comment}{/* Set the Lock level, the Break enable Bit and the Polarity, the OSSR State,}
02223 \textcolor{comment}{     the OSSI State, the dead time value and the Automatic Output Enable Bit */}
02224   TIMx->BDTR = (uint32\_t)TIM\_BDTRInitStruct->TIM_OSSRState | TIM\_BDTRInitStruct->
      TIM_OSSIState |
02225              TIM\_BDTRInitStruct->TIM_LOCKLevel | TIM\_BDTRInitStruct->
      TIM_DeadTime |
02226              TIM\_BDTRInitStruct->TIM_Break | TIM\_BDTRInitStruct->
      TIM_BreakPolarity |
02227              TIM\_BDTRInitStruct->TIM_AutomaticOutput;
02228 \}
\end{DoxyCode}
\mbox{\label{group__TIM__Group4_gaea0f49938cda8ae0738162194798afc6}} 
\index{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}!T\+I\+M\+\_\+\+B\+D\+T\+R\+Struct\+Init@{T\+I\+M\+\_\+\+B\+D\+T\+R\+Struct\+Init}}
\index{T\+I\+M\+\_\+\+B\+D\+T\+R\+Struct\+Init@{T\+I\+M\+\_\+\+B\+D\+T\+R\+Struct\+Init}!Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}}
\subsubsection{T\+I\+M\+\_\+\+B\+D\+T\+R\+Struct\+Init()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+B\+D\+T\+R\+Struct\+Init (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def} $\ast$}]{T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Struct }\end{DoxyParamCaption})}



Fills each T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Struct member with its default value. 


\begin{DoxyParams}{Parameters}
{\em T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Struct} & pointer to a \doxyref{T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def}{p.}{structTIM__BDTRInitTypeDef} structure which will be initialized. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2236} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.



References \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def\+::\+T\+I\+M\+\_\+\+Automatic\+Output}, \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def\+::\+T\+I\+M\+\_\+\+Break}, \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def\+::\+T\+I\+M\+\_\+\+Break\+Polarity}, \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def\+::\+T\+I\+M\+\_\+\+Dead\+Time}, \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def\+::\+T\+I\+M\+\_\+\+L\+O\+C\+K\+Level}, \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def\+::\+T\+I\+M\+\_\+\+O\+S\+S\+I\+State}, and \textbf{ T\+I\+M\+\_\+\+B\+D\+T\+R\+Init\+Type\+Def\+::\+T\+I\+M\+\_\+\+O\+S\+S\+R\+State}.


\begin{DoxyCode}
02237 \{
02238   \textcolor{comment}{/* Set the default configuration */}
02239   TIM\_BDTRInitStruct->TIM_OSSRState = TIM_OSSRState_Disable;
02240   TIM\_BDTRInitStruct->TIM_OSSIState = TIM_OSSIState_Disable;
02241   TIM\_BDTRInitStruct->TIM_LOCKLevel = TIM_LOCKLevel_OFF;
02242   TIM\_BDTRInitStruct->TIM_DeadTime = 0x00;
02243   TIM\_BDTRInitStruct->TIM_Break = TIM_Break_Disable;
02244   TIM\_BDTRInitStruct->TIM_BreakPolarity = TIM_BreakPolarity_Low;
02245   TIM\_BDTRInitStruct->TIM_AutomaticOutput = TIM_AutomaticOutput_Disable;
02246 \}
\end{DoxyCode}
\mbox{\label{group__TIM__Group4_ga0a935254e44312b1d78e8684a58db3c1}} 
\index{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}!T\+I\+M\+\_\+\+C\+C\+Preload\+Control@{T\+I\+M\+\_\+\+C\+C\+Preload\+Control}}
\index{T\+I\+M\+\_\+\+C\+C\+Preload\+Control@{T\+I\+M\+\_\+\+C\+C\+Preload\+Control}!Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}}
\subsubsection{T\+I\+M\+\_\+\+C\+C\+Preload\+Control()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+C\+C\+Preload\+Control (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$}]{T\+I\+Mx,  }\item[{\textbf{ Functional\+State}}]{New\+State }\end{DoxyParamCaption})}



Sets or Resets the T\+IM peripheral Capture Compare Preload Control bit. 


\begin{DoxyParams}{Parameters}
{\em T\+I\+Mx} & where x can be 1 or 8 to select the T\+I\+Mx peripheral \\
\hline
{\em New\+State} & new state of the Capture Compare Preload Control bit This parameter can be\+: E\+N\+A\+B\+LE or D\+I\+S\+A\+B\+LE. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2305} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.



References \textbf{ D\+I\+S\+A\+B\+LE}.


\begin{DoxyCode}
02306 \{ 
02307   \textcolor{comment}{/* Check the parameters */}
02308   assert_param(IS_TIM_LIST4_PERIPH(TIMx));
02309   assert_param(IS_FUNCTIONAL_STATE(NewState));
02310   \textcolor{keywordflow}{if} (NewState != DISABLE)
02311   \{
02312     \textcolor{comment}{/* Set the CCPC Bit */}
02313     TIMx->CR2 |= TIM_CR2_CCPC;
02314   \}
02315   \textcolor{keywordflow}{else}
02316   \{
02317     \textcolor{comment}{/* Reset the CCPC Bit */}
02318     TIMx->CR2 &= (uint16\_t)~TIM_CR2_CCPC;
02319   \}
02320 \}
\end{DoxyCode}
\mbox{\label{group__TIM__Group4_ga3e59ebced2ab8e0b817c460f1670e97d}} 
\index{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}!T\+I\+M\+\_\+\+Ctrl\+P\+W\+M\+Outputs@{T\+I\+M\+\_\+\+Ctrl\+P\+W\+M\+Outputs}}
\index{T\+I\+M\+\_\+\+Ctrl\+P\+W\+M\+Outputs@{T\+I\+M\+\_\+\+Ctrl\+P\+W\+M\+Outputs}!Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}}
\subsubsection{T\+I\+M\+\_\+\+Ctrl\+P\+W\+M\+Outputs()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+Ctrl\+P\+W\+M\+Outputs (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$}]{T\+I\+Mx,  }\item[{\textbf{ Functional\+State}}]{New\+State }\end{DoxyParamCaption})}



Enables or disables the T\+IM peripheral Main Outputs. 


\begin{DoxyParams}{Parameters}
{\em T\+I\+Mx} & where x can be 1 or 8 to select the T\+I\+Mx peripheral. \\
\hline
{\em New\+State} & new state of the T\+IM peripheral Main Outputs. This parameter can be\+: E\+N\+A\+B\+LE or D\+I\+S\+A\+B\+LE. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2255} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.



References \textbf{ D\+I\+S\+A\+B\+LE}.


\begin{DoxyCode}
02256 \{
02257   \textcolor{comment}{/* Check the parameters */}
02258   assert_param(IS_TIM_LIST4_PERIPH(TIMx));
02259   assert_param(IS_FUNCTIONAL_STATE(NewState));
02260 
02261   \textcolor{keywordflow}{if} (NewState != DISABLE)
02262   \{
02263     \textcolor{comment}{/* Enable the TIM Main Output */}
02264     TIMx->BDTR |= TIM_BDTR_MOE;
02265   \}
02266   \textcolor{keywordflow}{else}
02267   \{
02268     \textcolor{comment}{/* Disable the TIM Main Output */}
02269     TIMx->BDTR &= (uint16\_t)~TIM_BDTR_MOE;
02270   \}  
02271 \}
\end{DoxyCode}
\mbox{\label{group__TIM__Group4_gaff2e7f9959b1b36e830df028c14accc8}} 
\index{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}!T\+I\+M\+\_\+\+Select\+C\+OM@{T\+I\+M\+\_\+\+Select\+C\+OM}}
\index{T\+I\+M\+\_\+\+Select\+C\+OM@{T\+I\+M\+\_\+\+Select\+C\+OM}!Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features@{Advanced-\/control timers (\+T\+I\+M1 and T\+I\+M8) specific features}}
\subsubsection{T\+I\+M\+\_\+\+Select\+C\+O\+M()}
{\footnotesize\ttfamily void T\+I\+M\+\_\+\+Select\+C\+OM (\begin{DoxyParamCaption}\item[{\textbf{ T\+I\+M\+\_\+\+Type\+Def} $\ast$}]{T\+I\+Mx,  }\item[{\textbf{ Functional\+State}}]{New\+State }\end{DoxyParamCaption})}



Selects the T\+IM peripheral Commutation event. 


\begin{DoxyParams}{Parameters}
{\em T\+I\+Mx} & where x can be 1 or 8 to select the T\+I\+Mx peripheral \\
\hline
{\em New\+State} & new state of the Commutation event. This parameter can be\+: E\+N\+A\+B\+LE or D\+I\+S\+A\+B\+LE. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \textbf{ 2280} of file \textbf{ stm32f4xx\+\_\+tim.\+c}.



References \textbf{ D\+I\+S\+A\+B\+LE}.


\begin{DoxyCode}
02281 \{
02282   \textcolor{comment}{/* Check the parameters */}
02283   assert_param(IS_TIM_LIST4_PERIPH(TIMx));
02284   assert_param(IS_FUNCTIONAL_STATE(NewState));
02285 
02286   \textcolor{keywordflow}{if} (NewState != DISABLE)
02287   \{
02288     \textcolor{comment}{/* Set the COM Bit */}
02289     TIMx->CR2 |= TIM_CR2_CCUS;
02290   \}
02291   \textcolor{keywordflow}{else}
02292   \{
02293     \textcolor{comment}{/* Reset the COM Bit */}
02294     TIMx->CR2 &= (uint16\_t)~TIM_CR2_CCUS;
02295   \}
02296 \}
\end{DoxyCode}
